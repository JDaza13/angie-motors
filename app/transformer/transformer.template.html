<div class="container-fluid">
  
  <div class="contenedor-datos-iniciales row">
    <div class="col-xs-12 text-center">
      <h2>Datos iniciales</h2>
    </div>
    <div class="col-xs-12 col-md-6">
      <div class="input-group">
        <span class="input-group-addon">VP generador</span>
        <input ng-model="datosgenerador.voltajeprimario" type="number" class="form-control" placeholder="voltaje primario">
        <span class="input-group-addon">V</span>
      </div>
      <div class="input-group">
        <span class="input-group-addon">VS generador</span>
        <input ng-model="datosgenerador.voltajesecundario" type="number" class="form-control" placeholder="voltaje secundario">
        <span class="input-group-addon">V</span>
      </div>
    </div>
    <div class="col-xs-12 col-md-6">
      <div class="input-group">
        <span class="input-group-addon">Cantidad de transformadores: </span>
        <input ng-model="numTransformadores"
          ng-change="updateTransformadores();"
          type="number" class="form-control"
          placeholder="Escriba el número de transformadores">
      </div>
      <div class="input-group">
        <button class="button btn" type="button" ng-click="show();">Print data on console!</button>
      </div>
    </div>
  </div>

  <div class"contenedor-transformadores row">
    <div class="contenedor-transformador col-xs-12 col-md-6" ng-repeat="transformador in transformadores">
      <div class="wrapper-transformador">
        
        <h3>Transformador: {{transformador.id}}</h3>
        <div class="form-group contenedor-tipo-transformador">
          <label for="exampleFormControlSelect1">Configuración de conexión: </label>
          <input class="form-check-input" ng-model="transformador.tipo" type="radio" ng-value="configConexion.mono">
          <label>Monofásico</label>
          <input class="form-check-input" ng-model="transformador.tipo" type="radio" ng-value="configConexion.bi">
          <label>Bifásico</label>
          <input class="form-check-input" ng-model="transformador.tipo" type="radio" ng-value="configConexion.tri">
          <label>Trifásico</label>
        </div>
        <div class="form-group contenedor-datos-transformador">
          <label>Datos del transformador: </label>
          <div class="input-group">
            <input ng-model="transformador.voltaje" type="number" class="form-control" placeholder="voltaje">
            <span class="input-group-addon">V</span>
          </div>
          <div class="input-group">
            <input ng-model="transformador.potenicaparente" type="number" class="form-control" placeholder="corriente">
            <span class="input-group-addon">A</span>
          </div>
          <div class="input-group">
            <input ng-model="transformador.potenciaactiva" type="number" class="form-control" placeholder="potencia activa">
            <span class="input-group-addon">W</span>
          </div>
          <div class="input-group">
            <input ng-model="transformador.corriente"  type="number" class="form-control" placeholder="potencia reactiva">
            <span class="input-group-addon">W</span>
          </div>
        </div>
        <div class"form-group contenedor-correccion-potencia">
          <span>¿Desea hacer la corrección de factor de potencia?</span>
          <span> <input ng-model="transformador.correccion"
            class="form-check-input" type="checkbox"></span>
        </div>
        
        <!-- External conections for each transformer -->
        <span>Conexiones a otros transformadores: </span>
        <label ng-repeat="transformadorExtId in transformadoresIds" ng-if="transformadorExtId != transformador.id">
          <input
            type="checkbox"
            value="{{transformadorExtId}}"
            ng-checked="transformador.conexionesExternas.indexOf(transformadorExtId) > -1"
            ng-click="actualizarConexionesTransformador(transformador.id, transformadorExtId)">
            {{transformadorExtId}}
        </label>
        
        
        <!-- TODO ng-repeat for motors on each transformer-->
      </div>
    </div>
  </div>

</div>
